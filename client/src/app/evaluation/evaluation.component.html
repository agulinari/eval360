<div class="page-container">
<form [formGroup]="evaluationForm" novalidate (ngSubmit)="onSubmit()">
    <div class="spinner-container" *ngIf="loading">
        <mat-spinner [diameter]='70'></mat-spinner>
    </div>
    <div *ngIf="!loading">
<!--  <mat-card  class="shipping-card">
    <mat-card-header> -->
      <h3>Evaluaci칩n {{evaluationForm.get('title').value}} a {{evaluationForm.get('username').value}}</h3>
<!--    </mat-card-header>
    <mat-card-content> -->

    <div formArrayName="sections" *ngFor="let section of evaluationForm.get('sections').controls; let i = index;">
    <div [formGroupName]="i">
    <mat-card class="shipping-card">
      <mat-card-header>
        <mat-card-title>{{section.get('name').value}}</mat-card-title>
        <mat-card-subtitle>{{section.get('description').value}}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        
        <div formArrayName="items" *ngFor="let item of section.get('items').controls; let j = index;">
        <div [formGroupName]="j" class="item-panel">
           
              <h3>{{item.get('description').value}}</h3>
              <div *ngIf="item.get('itemType').value==='RATING'">
              <p>Desempe침o actual</p>
              <mat-button-toggle-group formControlName="value">
                <mat-button-toggle value="1">Pobre</mat-button-toggle>
                <mat-button-toggle value="2">Regular</mat-button-toggle>
                <mat-button-toggle value="3">Bueno</mat-button-toggle>
                <mat-button-toggle value="4">Muy Bueno</mat-button-toggle>
                <mat-button-toggle value="5">Excelente</mat-button-toggle>
              </mat-button-toggle-group>
              <p>Desempe침o deseado</p>
              <mat-button-toggle-group formControlName="value1">
                <mat-button-toggle value="1">Pobre</mat-button-toggle>
                <mat-button-toggle value="2">Regular</mat-button-toggle>
                <mat-button-toggle value="3">Bueno</mat-button-toggle>
                <mat-button-toggle value="4">Muy Bueno</mat-button-toggle>
                <mat-button-toggle value="5">Excelente</mat-button-toggle>
              </mat-button-toggle-group>
              <!-- mat-radio-group formControlName="value" fxLayout="row" fxLayoutAlign="center center" fxLayoutWrap fxLayoutGap="5px">
                <mat-radio-button fxFlex="20%" value="1">Pobre</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="2">Regular</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="3">Bueno</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="4">Muy Bueno</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="5">Excelente</mat-radio-button>
              </mat-radio-group>
              <p>Desempe침o deseado</p>
              <mat-radio-group formControlName="value1" fxLayout="row" fxLayoutAlign="center center" fxLayoutWrap fxLayoutGap="5px">
                <mat-radio-button fxFlex="20%" value="1">Pobre</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="2">Regular</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="3">Bueno</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="4">Muy Bueno</mat-radio-button>
                <mat-radio-button fxFlex="20%" value="5">Excelente</mat-radio-button>
              </mat-radio-group-->
              </div>
              <mat-form-field *ngIf="item.get('itemType').value==='TEXTBOX'" class="full-width">
                <textarea matInput rows="4" formControlName="value"></textarea>
              </mat-form-field>          
        </div> 
        </div>

       </mat-card-content>
    </mat-card>
    </div>
    </div>
<!--  </mat-card-content>
    <mat-card-actions  align="center"> -->
      <button mat-raised-button type="button" color="primary" (click)="gotoEvaluationList()">Ir a Evaluaciones Pendientes</button>
      <button mat-raised-button type="submit" [disabled]="evaluationForm.invalid" color="primary">Guardar</button>
 <!--   </mat-card-actions>
  </mat-card>  -->
  </div>
  </form>
  </div>